{{define "layout"}}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>{{template "title" .}}</title>
        <link rel="stylesheet" href="/static/css/main.css" type="text/css" />
        <link rel="icon" href="/static/favicon.png" />

        <!-- Tailwind -->
        <script src="https://cdn.tailwindcss.com"></script>
        <style type="text/tailwindcss">
            @layer components {
                .background-base {
                    background: linear-gradient(45deg, #3398e1, #1e81c8);
                }

                .skew {
                    transform: skewY(-3deg) translateY(-30px);
                }

                .flex-between {
                    display: flex;
                    justify-content: space-between;
                }

                .card {
                    @apply drop-shadow-xl bg-white rounded-lg p-4 m-2 mb-5;
                }

                .dropdown-item {
                    @apply p-2 rounded-lg box-content cursor-pointer;
                }

                .link {
                    @apply hover:underline underline-offset-4 cursor-pointer;
                }

                .user-dropdown-item {
                    @apply px-2 py-2 rounded-md hover:bg-[#d9d9d9] w-full;
                }
            }
        </style>

        <!-- JS -->
        <script defer src="/static/js/main.js"></script>
    </head>
    <body class="relative">
        <div class="z-10 relative text-[#545454]">
            {{if .template_config.NavbarShown}}
            <nav
                class="bg-[#eaeaea] w-full flex-between h-16 p-2 px-4 mx-auto font-semibold text-lg"
            >
                <a href="/">
                    <img
                        src="/static/images/logo.png"
                        alt="Tofus-Blog"
                        width="200px"
                        height="50px"
                    />
                </a>

                <div class="flex flex-row gap-4 items-center text-base">
                    <a href="#" class="link h-fit"> Create </a>
                    {{ if userLoggedIn .user }}
                    <!-- User Dropdown -->
                    <label
                        id="user-dropdown relative"
                        for="user-dropdown-toggle"
                        class="w-[30px] h-[30px] bg-[#bfbfbf] rounded-full p-1 cursor-pointer"
                    >
                    </label>
                    <input
                        type="checkbox"
                        id="user-dropdown-toggle"
                        style="display: none"
                    />

                    <!-- User Dropdown Content-->
                    <div
                        id="user-dropdown-content"
                        class="z-10 p-1 hidden absolute top-[62px] right-[10px] bg-[#eaeaea] w-[150px] h-fit rounded-b-md flex flex-col drop-shadow-xl"
                    >
                        <p onclick="logout()" class="user-dropdown-item">
                            Logout
                        </p>
                    </div>
                    {{ else }}
                    <a href="/login" class="link h-fit"> Login </a>
                    {{end}}
                </div>
            </nav>
            {{end}} {{template "body" .}}
        </div>
    </body>
</html>
{{end}}
